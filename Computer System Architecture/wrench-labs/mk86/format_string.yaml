# name: assert format_string('Num: %d\n42\n') == ('Num: 42', '')
name: kekw
limit: 2000
memory_size: 0x2000
memory_mapped_io:
  # 0x80: [78, 117, 109, 58, 32, 37, 100, 10, 52, 50, 10] # Num: %d\n42\n
  0x80: [78,117,109,58,32,37,53,100,10,52,50,10] # Num: %5d\n42\n
  # 0x80: [37,45,53,100,10,52,50,10] # %-5d\n42\n
  # 0x80: [74,117,115,116,32,116,101,120,116, 10] # just text\n
  # 0x80: [37,45,51,100,32,37,45,51,100,10,49,10,50,51,10] # %-3d %-3d\n1\n23\n
  # 0x80: [76,111,110,103,58,32,37,100,32,37,100,32,37,100,32,37,100,32,37,100, 10, 49, 10, 50, 10, 51, 10, 52, 10, 53, 10] #Long: %d %d %d %d %d\n1\n2\n3\n4\n5\n
  # 0x80: [84,104,105,115,32,102,111,114,109,97,116,32,115,116,114,105,110,103,32,105,115,32,116,111,111,32,108,111,110,103,32,102,111,114,32,105,110,112,117,116,32,98,117,102,102,101,114,32,37,10,32,49,10] # This format string is too long for input buffer %d\n1\n
  # 0x80: [76,111,110,103,58,32,37,100,32,37,100, 10, 49, 10, 50, 10] #Long: %d %d \n1\n2\n
  0x84: []
reports:
  - name: log
    slice: all
    filter:
      - state
    view: |
      {pc} {pc:label}
      {memory:112:122}
      {memory:256:289}
      {A0} {A1} {A2} {A3} {A4} {A5} {A6} {A7}
      {D0} {D1} {D2} {D3} {D4} {D5} {D6} {D7}
  - name: Check results
    slice: last
    filter:
      - state
    view: |
      {memory:112:122}
      {memory:256:289}
      {memory:304:324}
      numio[0x80]: {io:0x80:dec}
      numio[0x84]: {io:0x84:dec}
      symio[0x80]: {io:0x80:sym}
      symio[0x84]: {io:0x84:sym}
      {A0} {A1} {A2} {A3} {A4} {A5} {A6} {A7}
      {D0} {D1} {D2} {D3} {D4} {D5} {D6} {D7}
    # {A0:hex} {A1:hex} {A2:hex} {A3:hex} {A4:hex} {A5:hex} {A6:hex} {A7:hex}
    # {D0:hex} {D1:hex} {D2:hex} {D3:hex} {D4:hex} {D5:hex} {D6:hex} {D7:hex}
    # assert: |
    #   numio[0x80]: [] >>> []
    #   numio[0x84]: [] >>> [78,117,109,58,32,52,50]
    #   symio[0x80]: "" >>> ""
    #   symio[0x84]: "" >>> "Num: 42"
